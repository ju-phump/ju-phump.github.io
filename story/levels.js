/* yes this is under GPL v3.0
 * 
 * yes this code sucks
 * unfortunately i don't care
 *
 * code by Dante Davis
 *     started: 2022/03/06 (YYYY/MM/DD)
 * last edited: 2022/03/09
 */
var levels = [
	{
		"name": "0 - Tutorial",
		"author": "Nurdle",
		"description": "Tutorial Level!",
		"startPos": [0,0],
		"map": ["00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000011111111111111111111", "00000000000010000000000000000001", "00000000000010000000000000000001", "00000000000010000000000000000001", "00000000000010000000000000000001", "00000000000010000000000000000001", "00000000000011111111000000000001", "00000000000000000001000000000001", "00000000000000000001000000000001", "00000000000000000001000000000001", "00000000000000000001000000000001", "00000000000000000001000000000001", "00000000000000000001000000000001", "00000000000000000002000000000001", "00000000000000000002000000000001", "00000000000000000002000000000001", "00000000000000000002000000000001", "00000000000000000002000000000001", "00000000000000000002000000000001", "00000000000000000001111111111111"],
		"magic": {}
	},
	{
		"name": "1 - Basic",
		"author": "Nurdle",
		"description": "very basic",
		"startPos": [0,0],
		"map": ["00000000000011111111111111111111", "00000000000010000000000010000001", "00000000000010000000000010000001", "00000000000010000000000010000001", "00000000000010000000000010000001", "00000000000010000000000010000001", "00000000000010000010000010000001", "11111111111110000010000010000001", "10000000000000000010000010000001", "10000000000000000010000000000001", "10000000000000000010000000000001", "10000000000000000010000000000001", "10000000000000000010000000000001", "11111000111111111111111110000001", "10000000000010000000000000000001", "10000000000010000000000000000001", "10000000000010000000000000000001", "10000000000010000000000000000001", "10000000000010000000000000000001", "12222222222221111111111111111111", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000"],
		"magic": {}
	},
	{
		"name": "2 - Minimaze",
		"author": "Nurdle",
		"description": "an easy maze",
		"startPos": [0,0],
		"map": ["00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "11111111111111111111111111000000", "10000000000000000000000001000000", "10000000000000000000000001000000", "10000000000000000000000001000000", "10000000011111111111110001000000", "10000000100000000000000001000000", "10000000100000000000000001000000", "10000000100000000000000001000000", "10000000100011111111000001000000", "10000000100000000001000001000000", "10000000100000000001000001000000", "10000000100000000001000001000000", "10000000100000000001000001000000", "10000000100000000001000001000000", "10000000100011111110000001000000", "10000000100000000000000001000000", "10000000100000000000000001000000", "10000000111111111111110001000000", "10000000000000000000011112222221", "10000000000000000000000000000001", "10000000000000000000000000000001", "10000000000000000000000000000001", "10000000000000000000000000000001", "10000000000000000000000000000001", "10000000000000000000000000000001", "11111111111111111111111111111111"],
		"magic": {}
	},
	{
		"name": "3 - Gravity?",
		"author": "Nurdle",
		"description": "gravity can change!",
		"startPos": [0,0],
		"map": ["00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000001111111111000000000", "00000000000002000040001000000000", "00000000000002000040001000000000", "00000000000002000040001000000000", "00000000000002000040001000000000", "00000000000001111110001000000000", "00000000000001000030001000000000", "00000000000001000030001000000000", "00000000000001000030001000000000", "00000000000001000030001000000000", "00000000000001111111111000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000"],
		"magic": {}
	},
	{
		"name": "4 - Tricky",
		"author": "Nurdle",
		"description": "i really really really hate this level",
		"startPos":  [0,0],
		"map":  ["00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000011111111100111111111000000", "00000010000400100100400001000000", "00000010000400111100400001000000", "00000010000400000000400001000000", "00000010000100000000100001000000", "00000010001010000001010001000000", "00000010001010133101010001000000", "00000010001010133101010001000000", "00000010001010111101010001000000", "00000010001010000001010001000000", "00000010001011111111010001000000", "00000010001000000000010001000000", "00000010000111111111100001000000", "00000021100000000000000112000000", "00000020100000000000000102000000", "00000020111111000011111102000000", "00000020000000000000000002000000", "00000020000000000000000002000000", "00000020000000000000000002000000", "00000011111111111111111111000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000"],
		"magic": {}
	},
	{
		"name": "5 - Up",
		"author": "Nurdle",
		"description": "go up",
		"startPos": [0,1],
		"map": ["11111111111111111111111111111111","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000122100000000000001","10000000000000100100000000000001","10000000000000100100000000000001","10000000000000100100000000000001","10000000000000100100000000000001","10000000000000100100000000000001","10000000000000100100000000000001","10000000000000100100000000000001","10000000000000100100000000000001","10000000000000100100000000000001","10000000000000100100000000000001","10000000000000100100000000000001","10000000000000100100000000000001","10000000000000100100000000000001","11111111111111100111111111111111","10000000000000000000000000000001","10000000000010000001000000000001","10000000000111000011100000000001","10000000001010100101010000000001","10000000000010000001000000000001","10000000000010000001000000000001","10000000000010000001000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10001000111010000000000000000001","10001000101010000000000000000001","10001000101010000000000000000001","10001110111011100000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","111111111111111111111111111111110"],
		"magic": {}
	},
	{
		"name": "6 - Mazy",
		"author": "Nurdle",
		"description": "simple yet hard",
		"startPos": [0,0],
		"map": ["11111111111111111111111111111111","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000111111111111100000001","10000000000100000000000100000001","10000000000100000000000100000001","10000000000100111111100100000001","10000000000100100000100100000001","10000000000100100000100100000001","10000000000100100100100100000001","10000000000100100100100100000001","10000000000100100100100100000001","10000000000100111100100100000001","10000000000100000000100100000001","10000000000100000000100100000001","10000000000111111111100100000001","10000000000122000000000100000001","10000000000122000000000100000001","10000000000111111111111100000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","11111111111111111111111111111111"],
		"magic": {}
	},
	{
		"name": "7 - Snake Blood",
		"author": "Nurdle",
		"description": "looks more like a worm",
		"startPos": [0,0],
		"map": ["111111111111111111111111111111111","100000000000000000000000000000001","100000000000000000000000000000001","100000000000000000000000000000001","100000000000000000000000000000001","100000000000000000000000000000001","100000000000000000000000000000001","100000000000000000000000000000001","100000000000000000000000000000001","100000000000000000000000000000001","100000000000000000000000000000001","100000000000000000000000000000001","100000000000000000000001110000001","100000000000001111000111030000001","100000000000001001001100030000001","100000000000001001011000030000001","100000000000001001010000110144101","100000000000001001010001100100101","100000000000001001110011000100101","100000000000001000100010000100101","100000000000001100100010000100101","100000000000000100100110001101101","100000000000000100100100001001001","100000000000000100000100011001001","100000000000000100000100110011001","100000000000000110001100100010001","100000000000000011111001100110001","100000000000000000000011221100001","100000000000000000000012211000001","100000000000000000000011110000001","100000000000000000000000000000001","111111111111111111111111111111111"],
		"magic": {}
	},
	{
		"name": "10 - Red?",
		"author": "Nurdle",
		"description": "Hold your right arrow key!",
		"startPos": [0,0],
		"map": ["11111111111111111111111111111111","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000001111111111100000001","10000000000001000050000100000001","10000000000001000050000100000001","10000000000001000050000100000001","10000000000001000010000100000001","10000000000001000010000100000001","10000000000001000010000100000001","10000000000001000010000100000001","10000000000001000012222100000001","10000000000001000012222100000001","10000000000001111111111100000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","11111111111111111111111111111111"],
		"magic":{}
	},
	{
		"name": "9 - Test",
		"author": "Nurdle",
		"description": "Can you beat it?",
		"startPos": ["2","1"],
		"map": ["11111111111111111111111111111111","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","11111111111111111111111111111111","","","","","","0000000000000000000000000000000000000000000000000000000000000000000000000001111111111111","0000000000000000000000000000000000000000000000000000000000000000000000000001000000000301","0000000000000000000000000000000000000000000000000000000000000000000000000001000000000301","0000000000000000000000000000000000000000000000000000000000000000000000000001001111111101","0000000000000000000000000000000000000000000000000000000000000000000000000001004000000101","0000000000000000000000000000000000000000000000000000000000000000000000000001004000000101","0000000000000000000000000000000000000000000000000000000000000000000000000001111111110101","0000000000000000000000000000000000000000000000000000000000000000000000000001000000010101","0000000000000000000000000000000000000000000000000000000000000000000000000001000000010101","0000000000000000000000000000000000000000000000000000000000000000000000000001001011010101","0000000000000000000000000000000000000000000000000000000000000000000000000001001001010101","0000000000000000000000000000000000000000000000000000000000000000000000000001001001010101","0000000000000000000000000000000000000000000000000000000000000000000000000001001111010101","0000000000000000000000000000000000000000000000000000000000000000000000000001001001010101","00000000000000000000000000000000000000000000000000000000000000000000000000010010010101010","00000000000000000000000000000000000000000000000000000000000000000000000000010011110101010","00000000000000000000000000000000000000000000000000000000000000000000000000010000000301010","00000000000000000000000000000000000000000000000000000000000000000000000000010000000301010","0000000000000000000000000000000000000000000000000000000000000000000000000001111111111101","0000000000000000000000000000000000000000000000000000000000000000000000000000000000000101","0000000000000000000000000000000000000000000000000000000000000000000000000000000000000101","0000000000000000000000000000000000000000000000000000000000000000000000000000000000000101","0000000000000000000000000000000000000000000000000000000000000000000000000000000000000101","0000000000000000000000000000000000000000000000000000000000000000000000000000000000000101","0000000000000000000000000000000000000000000000000000000000000000000000000000000000000101","0000000000000000000000000000000000000000000000000000000000000000000000000000000000000101","0000000000000000000000000000000000000000000000000000000000000000000000000000000000000101","000000000000000000000000000000000000000000000000000000000000000000000000000000000011110111111111","000000000000000000000000000000000000000000000000000000000000000000000000000000000010000100000001","000000000000000000000000000000000000000000000000000000000000000000000000000000000010000100000001","000000000000000000000000000000000000000000000000000000000000000000000000000011111110000100000001","000000000000000000000000000000000000000000000000000000000000000000000000000010000014411101111101","000000000000000000000000000000000000000000000000000000000000000000000000000010000010010000000101","000000000000000000000000000000000000000000000000000000000000000000000000000010010010010000000101","000000000000000000000000000000000000000000000000000000000000000000000000000010010010010000000101","000000000000000000000000000000000000000000000000000000000000000000000000000010010013311111000101","000000000000000000000000000000000000000000000000000000000000000000000000000010010000010000000101","000000000000000000000000000000000000000000000000000000000000000000000000000010010000010000000101","000000000000000000000000000000000000000000000000000000000000000000000000000010010000010000000101","000000000000000000000000000000000000000000000000000000000000000000000000000010011111110111111101","000000000000000000000000000000000000000000000000000000000000000000000000000010000000000122222201","000000000000000000000000000000000000000000000000000000000000000000000000000010000000000122222201","000000000000000000000000000000000000000000000000000000000000000000000000000010000000000122222201","000000000000000000000000000000000000000000000000000000000000000000000000000011111111111111111111","000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"],
		"magic": {}
	},
	{ // level that says you won
		"name": "You Win",
		"author": "Nurdle",
		"description": "congrats! you have successfully wasted your time, though depends on your world view i guess. technically nothing matters until someone cares so, it could be a few minutes wasted or the most important minutes of your life, anyways that's enough philosophy, see you next time!",
		"startPos": [0,0],
		"map": ["0000000000000000000000000000000000011111111111111111", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "000000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000020020020002022202002000000", "00000020020020202002002202000000", "00000020020020202002002022000000", "00000002200002020022202002000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000"],
		"magic": {}
	}
];
var lvl = -1;
function nextLevel() {
	lvl = (lvl + 1) % levels.length;		// get the index of the next level
	level = levels[lvl];					// get level data
	document.getElementById("name").innerText = level.name;					// display level info
	document.getElementById("author").innerText = level.author;				// 
	document.getElementById("description").innerText = level.description;	// ---
	try{flush(lc);}catch{}					// stupid fix for a stupid bug
	size = getMapSize();					// get the level's size		// I am stupid i put level instead of map
	drawLevel();							// draw the level
	reset();								// reset the player
	unwin();								// unwin, removes the "level complete" text
	if (lvl == 0)							// reset the timer if the player completed all the levels
		timer = 0;
	if (lvl == levels.length - 1) {			// if you reach the last level then it will record your time if you beat your record
		if (timer < getCookie("bestTime") || getCookie("bestTime") == 0) 
			setCookie("bestTime", Math.floor(timer));
		bestEl.innerText = "Best Time: " + getCookie("bestTime");
		document.getElementById("name").innerText = `U Win`;		// "Level (insert number here)" isn't a very good name for a level that just contains the text "u win"
	}
}
level = levels[++lvl];		// get the first level
document.getElementById("name").innerText = level.name;					// display level info
document.getElementById("author").innerText = level.author;				// 
document.getElementById("description").innerText = level.description;	// ---
setTimeout(function () {
	if (getCookie("bestTime") == "")
		setCookie("bestTime", 0);
	bestEl.innerText = "Best Time: " + getCookie("bestTime");
}, 100)