/* yes this is under GPL v3.0
 * 
 * yes this code sucks
 * unfortunately i don't care
 *
 * code by Dante Davis
 *     started: 2022/03/06 (YYYY/MM/DD)
 * last edited: 2022/03/07
 */
var levels = [
	{
		"name": "0 - Tutorial",
		"startPos": [0,0],
		"map": ["00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000011111111111111111111", "00000000000010000000000000000001", "00000000000010000000000000000001", "00000000000010000000000000000001", "00000000000010000000000000000001", "00000000000010000000000000000001", "00000000000011111111000000000001", "00000000000000000001000000000001", "00000000000000000001000000000001", "00000000000000000001000000000001", "00000000000000000001000000000001", "00000000000000000001000000000001", "00000000000000000001000000000001", "00000000000000000002000000000001", "00000000000000000002000000000001", "00000000000000000002000000000001", "00000000000000000002000000000001", "00000000000000000002000000000001", "00000000000000000002000000000001", "00000000000000000001111111111111"]
	},
	{
		"name": "1 - Basic",
		"startPos": [0,0],
		"map": ["00000000000011111111111111111111", "00000000000010000000000010000001", "00000000000010000000000010000001", "00000000000010000000000010000001", "00000000000010000000000010000001", "00000000000010000000000010000001", "00000000000010000010000010000001", "11111111111110000010000010000001", "10000000000000000010000010000001", "10000000000000000010000000000001", "10000000000000000010000000000001", "10000000000000000010000000000001", "10000000000000000010000000000001", "11111000111111111111111110000001", "10000000000010000000000000000001", "10000000000010000000000000000001", "10000000000010000000000000000001", "10000000000010000000000000000001", "10000000000010000000000000000001", "12222222222221111111111111111111", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000"]
	},
	{
		"name": "2 - Minimaze",
		"startPos": [0,0],
		"map": ["00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "11111111111111111111111111000000", "10000000000000000000000001000000", "10000000000000000000000001000000", "10000000000000000000000001000000", "10000000011111111111110001000000", "10000000100000000000000001000000", "10000000100000000000000001000000", "10000000100000000000000001000000", "10000000100011111111000001000000", "10000000100000000001000001000000", "10000000100000000001000001000000", "10000000100000000001000001000000", "10000000100000000001000001000000", "10000000100000000001000001000000", "10000000100011111110000001000000", "10000000100000000000000001000000", "10000000100000000000000001000000", "10000000111111111111110001000000", "10000000000000000000011112222221", "10000000000000000000000000000001", "10000000000000000000000000000001", "10000000000000000000000000000001", "10000000000000000000000000000001", "10000000000000000000000000000001", "10000000000000000000000000000001", "11111111111111111111111111111111"]
	},
	{
		"name": "3 - Gravity?",
		"startPos": [0,0],
		"map": ["00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000001111111111000000000", "00000000000002000040001000000000", "00000000000002000040001000000000", "00000000000002000040001000000000", "00000000000002000040001000000000", "00000000000001111110001000000000", "00000000000001000030001000000000", "00000000000001000030001000000000", "00000000000001000030001000000000", "00000000000001000030001000000000", "00000000000001111111111000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000"]
	},
	{
		"name": "4 - Tricky",
		"startPos":  [0,0],
		"map":  ["00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000011111111100111111111000000", "00000010000400100100400001000000", "00000010000400111100400001000000", "00000010000400000000400001000000", "00000010000100000000100001000000", "00000010001010000001010001000000", "00000010001010133101010001000000", "00000010001010133101010001000000", "00000010001010111101010001000000", "00000010001010000001010001000000", "00000010001011111111010001000000", "00000010001000000000010001000000", "00000010000111111111100001000000", "00000021100000000000000112000000", "00000020100000000000000102000000", "00000020111111000011111102000000", "00000020000000000000000002000000", "00000020000000000000000002000000", "00000020000000000000000002000000", "00000011111111111111111111000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000"]
	},
	{
		"name": "5 - Up",
		"startPos": [0,1],
		"map": ["11111111111111111111111111111111","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000122100000000000001","10000000000000100100000000000001","10000000000000100100000000000001","10000000000000100100000000000001","10000000000000100100000000000001","10000000000000100100000000000001","10000000000000100100000000000001","10000000000000100100000000000001","10000000000000100100000000000001","10000000000000100100000000000001","10000000000000100100000000000001","10000000000000100100000000000001","10000000000000100100000000000001","10000000000000100100000000000001","11111111111111100111111111111111","10000000000000000000000000000001","10000000000010000001000000000001","10000000000111000011100000000001","10000000001010100101010000000001","10000000000010000001000000000001","10000000000010000001000000000001","10000000000010000001000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10001000111010000000000000000001","10001000101010000000000000000001","10001000101010000000000000000001","10001110111011100000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","111111111111111111111111111111110"]
	},
	{
		"name": "6 - Mazy",
		"startPos": [0,0],
		"map": ["11111111111111111111111111111111","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000111111111111100000001","10000000000100000000000100000001","10000000000100000000000100000001","10000000000100111111100100000001","10000000000100100000100100000001","10000000000100100000100100000001","10000000000100100100100100000001","10000000000100100100100100000001","10000000000100100100100100000001","10000000000100111100100100000001","10000000000100000000100100000001","10000000000100000000100100000001","10000000000111111111100100000001","10000000000122000000000100000001","10000000000122000000000100000001","10000000000111111111111100000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","11111111111111111111111111111111"]
	},
	{
		"name": "7 - Snake Blood",
		"startPos": [0,0],
		"map": ["111111111111111111111111111111111","100000000000000000000000000000001","100000000000000000000000000000001","100000000000000000000000000000001","100000000000000000000000000000001","100000000000000000000000000000001","100000000000000000000000000000001","100000000000000000000000000000001","100000000000000000000000000000001","100000000000000000000000000000001","100000000000000000000000000000001","100000000000000000000000000000001","100000000000000000000001110000001","100000000000001111000111030000001","100000000000001001001100030000001","100000000000001001011000030000001","100000000000001001010000110144101","100000000000001001010001100100101","100000000000001001110011000100101","100000000000001000100010000100101","100000000000001100100010000100101","100000000000000100100110001101101","100000000000000100100100001001001","100000000000000100000100011001001","100000000000000100000100110011001","100000000000000110001100100010001","100000000000000011111001100110001","100000000000000000000011221100001","100000000000000000000012211000001","100000000000000000000011110000001","100000000000000000000000000000001","111111111111111111111111111111111"]
	},
	{
		"name": "8 - Neat",
		"startPos": [0,0],
		"map": ["11111111111111111111111111111111","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001000000000000000000000000","10000000000000000000000000000001000111111100000000000000","10000000000000000000000000000001011100000110000000000000","10000000000000000000000000000001110000000010000000000000","10000000000000000000011111111111000000000010000000000000","10000000000000000001110000000000000000000010000000000000","10000000000000000111000000000000000000000010000011111111","10000000000000001100000000000000000000000010000010022221","10000000000001111000000000000000000000000010000010022221","10000000000001000000000000000000000000000010000010011111","1000000000000100000001111100000000000000001111001001000","1000000000000100000011000111000000000000000001001001000","10000000000001000011100000011000000000000000011010010","1000000000000111111000000000111100000000000000111001","10000000000000000000000000000001110000000000000000011","10000000000000000000000000000001011000000000000000001","10000000000000000000000000000001001110000000000000001","10000000000000000000000000000001000011110000000000001","10000000000000000000000000000001000000011110000000001","10000000000000000000000000000001000000000010000000001","10000000000000000000000000000001000000000010000000011","1000000000000000000000000000000100000000001100000111","1000000000000000000000000000000100000000000111111","10000000000000000000000000000001","10000000000000000000000000000001","10000000000000000000000000000001","11111111111111111111111111111111"]
	},
	{ // level that says you won
		"name": "You Win",
		"startPos": [0,0],
		"map": ["0000000000000000000000000000000000011111111111111111", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "000000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000020020020002022202002000000", "00000020020020202002002202000000", "00000020020020202002002022000000", "00000002200002020022202002000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000", "00000000000000000000000000000000"]
	}
];
var lvl = -1;
function nextLevel() {
	lvl = (lvl + 1) % levels.length;		// get the index of the next level
	level = levels[lvl];					// get level data
	document.getElementById("name").innerText = level.name;	// display the name of the level
	try{flush(lc);}catch{}					// stupid fix for a stupid bug
	size = getMapSize();					// get the level's size		// I am stupid i put level instead of map
	drawLevel();							// draw the level
	reset();								// reset the player
	unwin();								// unwin, removes the "level complete" text
	if (lvl == 0)							// reset the timer if the player completed all the levels
		timer = 0;
	if (lvl == levels.length - 1) {			// if you reach the last level then it will record your time if you beat your record
		if (timer < getCookie("bestTime") || getCookie("bestTime") == 0) 
			setCookie("bestTime", Math.floor(timer));
		bestEl.innerText = "Best Time: " + getCookie("bestTime");
		document.getElementById("name").innerText = `U Win`;		// "Level (insert number here)" isn't a very good name for a level that just contains the text "u win"
	}
}
nextLevel();	// fetch the first level
if (getCookie("bestTime") == "")
	setCookie("bestTime", 0);
bestEl.innerText = "Best Time: " + getCookie("bestTime");